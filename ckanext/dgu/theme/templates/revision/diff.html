{% extends "page.html" %}

{% block title %}Differences - Revisions{% endblock %}

{% block breadcrumb_content %}
    <li><a href="/data/search">Datasets</a></li>
    <li><a href="{{h.url_for(controller='package',action='read',id=c.pkg.name)}}">{{c.pkg.title}}</a></li>
    <li><a href="{{h.url_for(controller='package',action='history',id=c.pkg.name)}}">History</a></li>
    <li><a href="{{request.url}}">Revision differences</a></li>
{% endblock %}

{% block primary_content_inner %}
<div>
      <h1>Viewing Dataset Diff</h1>
      {% if c.revision_from %}
      <h4>From</h4>
      <ul >
        <li><strong>ID: </strong>{{c.revision_from.id}} </li>
        <li><strong>Timestamp: </strong>{{c.revision_from.timestamp}} </li>
      </ul>
      <h4>To</h4>
      <ul>
        <li><strong>ID: </strong>{{c.revision_to.id}} </li>
        <li><strong>Timestamp: </strong>{{c.revision_to.timestamp}} </li>
      </ul>
      {% endif %}

      {% if c.diff %}
        <table class="table table-bordered revision-diff-table">
          <tr>
            <th class="revision-left">Field</th><th class="revision-right">Difference</th>
          </tr>
          {% for field, diff in c.diff %}
            <tr><td class="revision-left"><pre style="border: none; background: inherit;">{{field}}</pre></td><td class="revision-right"><pre style="border: none; background: inherit;">{{diff}}</pre></td></tr>
          {% endfor %}
        </table>
      {% else %}
        <h3>No differences</h3>
      {% endif %}
  </div>



{% endblock %}

